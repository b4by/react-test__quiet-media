{"version":3,"sources":["context.js","components/Sidebar/index.js","components/Banner/index.js","pages/Settings/index.js","pages/Settings/SettingsValidationRules.js","pages/Preview/index.js","Router/index.js","App.js","index.js"],"names":["Context","React","createContext","Sidebar","previewReady","useContext","className","to","activeClassName","Banner","banner_name","banner_img_y","banner_img_h","banner_link","useState","window","innerWidth","innerHeight","deviceOrientation","setDeviceOrientation","bannerImg","setBannerImg","useEffect","updateBannerImage","matchMedia","matches","addEventListener","removeEventListener","style","backgroundImage","order","target","rel","href","Settings","settings","setSettings","setPreviewReady","errors","setErrors","isSubmitting","setIsSubmitting","handleChange","e","name","value","Object","keys","length","onSubmit","preventDefault","regexp_url","test","validate","type","onChange","trim","htmlFor","Preview","Router","exact","path","render","component","App","banner_type","Provider","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b991ed4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const Context = React.createContext();","import React, { useContext } from 'react';\r\nimport { Context } from '../../context';\r\nimport './index.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Sidebar = () => {\r\n  const { previewReady } = useContext(Context);\r\n  return (\r\n    <aside className=\"sidebar\">\r\n      <nav className=\"sidebar__nav\">\r\n        <ul className=\"sidebar__list\">\r\n          <li className=\"sidebar__item\">\r\n            <NavLink \r\n              className=\"sidebar__link\" \r\n              to=\"/settings\" \r\n              activeClassName=\"sidebar__link--active\"\r\n            >Параметры\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"sidebar__item\">\r\n            <NavLink \r\n              className={ previewReady ? 'sidebar__link' : 'sidebar__link sidebar__link--disabled'} \r\n              to=\"/preview\" \r\n              activeClassName=\"sidebar__link--active\"\r\n            >Предпросмотр\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default Sidebar;","import React, { useState, useEffect } from 'react';\r\nimport './index.scss';\r\n\r\n\r\nconst Banner = ({ banner_name, banner_img_y, banner_img_h, banner_link }) => {\r\n\r\n  const [deviceOrientation, setDeviceOrientation] = useState((window.innerWidth > window.innerHeight) ? 'landscape' : 'portrait');\r\n\r\n  const [bannerImg, setBannerImg] = useState((deviceOrientation === 'landscape') ? banner_img_h : banner_img_y);\r\n\r\n  useEffect(() => {\r\n    const updateBannerImage = () => {\r\n      if (window.matchMedia(`(orientation: landscape)`).matches) {\r\n        setDeviceOrientation('landscape')\r\n        setBannerImg(banner_img_h)\r\n      } else {\r\n        setBannerImg(banner_img_y)\r\n        setDeviceOrientation('portrait')\r\n      }\r\n    }\r\n    updateBannerImage();\r\n    window.addEventListener('resize', updateBannerImage);\r\n    return () => {\r\n      window.removeEventListener('resize', updateBannerImage);\r\n    };\r\n  }, [banner_img_h, banner_img_y]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"banner\">\r\n        <div className=\"banner__content\" style={{backgroundImage: `url(${bannerImg})`}}>\r\n          <span className=\"banner__title\" style={(deviceOrientation === 'landscape') ? {order: '-1'} : {order: '2'}}>{banner_name}</span>\r\n          <a \r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            className=\"banner__link btn\" \r\n            href={banner_link}\r\n          >\r\n            Перейти\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Banner;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Context } from '../../context';\r\nimport Banner from '../../components/Banner';\r\nimport validate from './SettingsValidationRules';\r\nimport './index.scss';\r\n\r\nconst Settings = () => {\r\n\r\n  const {settings, setSettings, previewReady, setPreviewReady} = useContext(Context);\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setSettings({...settings, [name]: value});\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(errors).length === 0 && isSubmitting) {\r\n      setPreviewReady(true);\r\n    }\r\n  })\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setErrors(validate(settings))\r\n    setIsSubmitting(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <div className=\"container\">\r\n        <form className=\"settings__form\" onSubmit={handleSubmit}>\r\n          <ul className=\"settings__list\">\r\n            <li className=\"settings__item\">\r\n              <input className=\"settings__item-input\" type=\"text\" name=\"banner_name\" value={settings.banner_name} onChange={handleChange}/>\r\n              <label className={settings['banner_name'].trim() !== '' ? \"settings__item-label settings__item-label--done\" : \"settings__item-label\"} htmlFor=\"banner_name\">Название баннера</label>\r\n              <span className=\"settings__error\">{errors.banner_name}</span>\r\n            </li>\r\n            <li className=\"settings__item\">\r\n              <label className=\"settings__item-label-select\" htmlFor=\"banner_type\">Тип баннера</label>\r\n              <select name=\"banner_type\" value={settings[\"banner_type\"]} onChange={handleChange} >\r\n                <option value=\"Прямой\">Прямой</option>\r\n                <option value=\"Обратный\">Обратный</option>\r\n              </select>\r\n            </li>\r\n            <li className=\"settings__item\">\r\n              <input className=\"settings__item-input\" type=\"text\" name=\"banner_img_y\" value={settings.banner_img_y} onChange={handleChange}/>\r\n              <label className={settings['banner_img_y'].trim() !== '' ? \"settings__item-label settings__item-label--done\" : \"settings__item-label\"} htmlFor=\"banner_img_y\">Вертикальное изображение</label>\r\n              <span className=\"settings__error\">{errors.banner_img_y}</span>\r\n            </li>\r\n            <li className=\"settings__item\">\r\n              <input className=\"settings__item-input\" type=\"text\" name=\"banner_img_h\" value={settings.banner_img_h} onChange={handleChange}/>\r\n              <label className={settings['banner_img_h'].trim() !== '' ? \"settings__item-label settings__item-label--done\" : \"settings__item-label\"} htmlFor=\"banner_img_h\">Горизонтальное изображение</label>\r\n              <span className=\"settings__error\">{errors.banner_img_h}</span>\r\n            </li>\r\n            <li className=\"settings__item\">\r\n              <input className=\"settings__item-input\" type=\"text\" name=\"banner_link\" value={settings.banner_link} onChange={handleChange}/>\r\n              <label className={settings['banner_link'].trim() !== '' ? \"settings__item-label settings__item-label--done\" : \"settings__item-label\"} htmlFor=\"banner_link\">Целевая ссылка</label>\r\n              <span className=\"settings__error\">{errors.banner_link}</span>\r\n            </li>\r\n            <li className=\"settings__item\">\r\n              <input \r\n                className=\"settings__submit btn\" \r\n                type=\"submit\" \r\n                value=\"Показать\" \r\n              />\r\n            </li>\r\n          </ul>\r\n        </form>\r\n        { previewReady ? <Banner {...settings} /> : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings;","export default function validate(settings) {\r\n  let regexp_title = /^\\s*[a-zA-Z,\\s]+\\s*$/;\r\n  let regexp_url = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/;\r\n  let errors = {};\r\n  if (!settings.banner_name) {\r\n    errors.banner_name = 'Введите название баннера'\r\n  } else if (!regexp_title.test(settings.banner_name)) {\r\n    errors.banner_name = \"Название баннера некорректно\"\r\n  }\r\n  if (!settings.banner_img_y) {\r\n    errors.banner_img_y = 'Добавьте ссылку на изображение'\r\n  } else if (!regexp_url.test(settings.banner_img_y)) {\r\n    errors.banner_img_y = 'Ссылка на изображение некорректна'\r\n  }\r\n  if (!settings.banner_img_h) {\r\n    errors.banner_img_h = 'Добавьте ссылку на изображение'\r\n  } else if (!regexp_url.test(settings.banner_img_h)) {\r\n    errors.banner_img_h = 'Ссылка на изображение некорректна'\r\n  }\r\n  if (!settings.banner_link) {\r\n    errors.banner_link = 'Добавьте целевую ссылку'\r\n  } else if (!regexp_url.test(settings.banner_link)) {\r\n    errors.banner_link = 'Адрес целевой ссылки некорректен'\r\n  }\r\n  return errors\r\n}","import React, { useState, useContext } from 'react';\r\nimport { Context } from '../../context';\r\nimport Banner from '../../components/Banner';\r\n\r\nconst Preview = () => {\r\n\r\n  const { settings } = useContext(Context);\r\n  \r\n  return (\r\n    <Banner {...settings} />\r\n  )\r\n}\r\n\r\nexport default Preview;","import React from 'react';\r\nimport Settings from '../pages/Settings';\r\nimport Preview from '../pages/Preview';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\n\r\nconst Router = () => {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\" render={() => <></>} />\r\n      <Route exact path=\"/settings\" component={Settings} />\r\n      <Route path=\"/preview\" component={Preview} />\r\n      <Route component={() => <h1>Not Found</h1>} />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Router;","import React, { useState } from 'react';\nimport Sidebar from './components/Sidebar';\nimport Router from './Router';\nimport { Context } from './context';\nimport './App.scss';\n\nconst App = () => {\n  const [previewReady, setPreviewReady] = useState(false);\n  const [settings, setSettings] = useState({\n    banner_name: '',\n    banner_type: 'Прямой',\n    banner_img_y: '',\n    banner_img_h: '',\n    banner_link: ''\n  });\n\n  return (\n    <Context.Provider value={{\n      settings, setSettings,\n      previewReady, setPreviewReady\n    }}>\n      <div className=\"app\">\n        <Sidebar />\n        <div className=\"app__main\">\n          <Router/>\n        </div>\n      </div>\n    </Context.Provider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}